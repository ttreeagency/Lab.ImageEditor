{"version":3,"sources":["webpack:///webpack/bootstrap 8bc4af9ca296e2faabeb","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","webpack:///./src/StateMachine/states.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:///./src/index.js","webpack:///./src/manifest.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/package.json","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-decorators/index.js","webpack:///./src/StateMachine/machine.js","webpack:///./src/Editor/Empty.js","webpack:///./src/Editor/Preview.js","webpack:///./src/Editor/Cropping.js","webpack:///./src/ImageEditor.js","webpack:///./src/Automata.js"],"names":["readFromConsumerApi","key","window","Error","module","exports","React","PropTypes","EMPTY","PREVIEW","CROPPING","ReactUiComponents","require","editorsRegistry","globalRegistry","get","set","component","createConsumerApi","createReadOnlyValue","value","writable","enumerable","configurable","manifests","exposureMap","api","Object","keys","forEach","defineProperty","manifest","identifier","options","bootstrap","push","NeosUiDecorators","chooseFromMedia","console","log","media","name","chooseFromFile","previewSuccess","previewError","clearSelection","confirmCropping","closeCropping","showCropping","machine","Empty","props","propTypes","func","isRequired","Preview","Cropping","close","confirm","ImageEditor","secondaryEditorsRegistry","prepareMachine","transition","string","oneOfType","shape","__identifier","hooks","object","commit","renderSecondaryInspector","highlight","bool","fileChooserLabel","allowedFileTypes","Automata","state","renderMap","current","action","currentState","setState"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8bc4af9ca296e2faabeb","export default function readFromConsumerApi(key) {\n    return (...args) => {\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][`@${key}`]) {\n            return window['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n\n        throw new Error(`You are trying to read from a consumer api that hasn't been initialized yet!`);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().PropTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","export const EMPTY = 'EMPTY';\nexport const PREVIEW = 'PREVIEW';\nexport const CROPPING = 'CROPPING';\n\n\n\n// WEBPACK FOOTER //\n// ./src/StateMachine/states.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","require('./manifest');\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import manifest from '@neos-project/neos-ui-extensibility';\n\nimport ImageEditor from './ImageEditor';\n\nmanifest('Ttree.Lab.ImageEditor:ImageEditor', {}, globalRegistry => {\n    const editorsRegistry = globalRegistry.get('inspector').get('editors');\n    editorsRegistry.set('Ttree.Lab.ImageEditor/Inspector/Editors/ImageEditor', {\n        component: ImageEditor\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/manifest.js","import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\n\nexport default readFromConsumerApi('manifest');\n\nexport {\n    createConsumerApi\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/index.js","import {version} from '../package.json';\nimport createManifestFunction from './manifest';\n\nconst createReadOnlyValue = value => ({\n    value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n});\n\nexport default function createConsumerApi(manifests, exposureMap) {\n    const api = {};\n\n    Object.keys(exposureMap).forEach(key => {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(\n        createManifestFunction(manifests)\n    ));\n\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n    Object.defineProperty(window['@Neos:HostPluginAPI'], 'VERSION', createReadOnlyValue(version));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","module.exports = {\"name\":\"@neos-project/neos-ui-extensibility\",\"version\":\"1.0.4\",\"description\":\"Extensibility mechanisms for the Neos CMS UI\",\"main\":\"./src/index.js\",\"scripts\":{\"prebuild\":\"check-dependencies && yarn clean\",\"test\":\"yarn jest -- -w 2 --coverage\",\"test:watch\":\"yarn jest -- --watch\",\"build\":\"exit 0\",\"build:watch\":\"exit 0\",\"clean\":\"rimraf ./lib ./dist\",\"lint\":\"eslint src\",\"jest\":\"NODE_ENV=test jest\"},\"devDependencies\":{\"@neos-project/babel-preset-neos-ui\":\"1.0.4\",\"@neos-project/jest-preset-neos-ui\":\"1.0.4\"},\"dependencies\":{\"@neos-project/build-essentials\":\"1.0.4\",\"@neos-project/positional-array-sorter\":\"1.0.4\",\"babel-core\":\"^6.13.2\",\"babel-eslint\":\"^7.1.1\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-transform-decorators-legacy\":\"^1.3.4\",\"babel-plugin-transform-object-rest-spread\":\"^6.20.1\",\"babel-plugin-webpack-alias\":\"^2.1.1\",\"babel-preset-es2015\":\"^6.13.2\",\"babel-preset-react\":\"^6.3.13\",\"babel-preset-stage-0\":\"^6.3.13\",\"chalk\":\"^1.1.3\",\"css-loader\":\"^0.28.4\",\"file-loader\":\"^1.1.5\",\"json-loader\":\"^0.5.4\",\"postcss-loader\":\"^2.0.8\",\"react-dev-utils\":\"^0.5.0\",\"style-loader\":\"^0.19.0\"},\"bin\":{\"neos-react-scripts\":\"./bin/neos-react-scripts.js\"},\"jest\":{\"preset\":\"@neos-project/jest-preset-neos-ui\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@neos-project/neos-ui-extensibility/package.json\n// module id = 16\n// module chunks = 0","export default manifests => {\n    return function manifest(identifier, options, bootstrap) {\n        manifests.push({\n            [identifier]: {\n                options,\n                bootstrap\n            }\n        });\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiDecorators;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-decorators/index.js","import { EMPTY, PREVIEW, CROPPING } from './states';\n\nconst chooseFromMedia = () => {\n    console.log('Choose from media');\n    const media = {media: 'foo'};\n    return { name: PREVIEW, media}\n};\nconst chooseFromFile = () => {\n    console.log('Choose from file');\n    const media = {media: 'foo'};\n    return { name: PREVIEW, media}\n};\n\nconst previewSuccess = () => {\n    console.log('Preview Success');\n};\n\nconst previewError = () => {\n    console.log('Preview Error');\n};\n\nconst clearSelection = () => {\n    console.log('Clear Asset Selection');\n    return { name: EMPTY}\n};\n\nconst confirmCropping = () => {\n    console.log('Confirm Cropping');\n    const media = {media: 'foo'};\n    return { name: PREVIEW, media}\n};\n\nconst closeCropping = () => {\n    console.log('Close Cropping');\n    const media = {media: 'foo'};\n    return { name: PREVIEW, media}\n};\n\nconst showCropping = () => {\n    console.log('Show Cropping');\n    const media = {media: 'foo'};\n    return { name: CROPPING, media}\n};\n\nconst machine = {\n    [EMPTY]: {\n        chooseFromMedia,\n        chooseFromFile,\n    },\n    [PREVIEW]: {\n        previewSuccess,\n        previewError,\n        showCropping,\n        clearSelection,\n    },\n    [CROPPING]: {\n        confirmCropping,\n        closeCropping,\n    },\n};\n\nexport default machine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/StateMachine/machine.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Button} from '@neos-project/react-ui-components';\n\nexport default class Empty extends Component {\n    static propTypes = {\n        chooseFromMedia: PropTypes.func.isRequired,\n        chooseFromFile: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const {chooseFromMedia, chooseFromFile} = this.props;\n\n        return (\n            <div>\n                <div><strong>I'm empty</strong></div>\n                <Button onClick={chooseFromMedia} style=\"brand\">Media</Button>\n                <Button onClick={chooseFromFile} style=\"brand\">File</Button>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Editor/Empty.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Button} from '@neos-project/react-ui-components';\n\nexport default class Preview extends Component {\n    static propTypes = {\n        clearSelection: PropTypes.func.isRequired,\n        showCropping: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const {clearSelection, showCropping} = this.props;\n\n        return (\n            <div>\n                <div><strong>Preview</strong></div>\n                <Button onClick={clearSelection} style=\"brand\">Clear Me</Button>\n                <Button onClick={showCropping} style=\"brand\">Crop Me</Button>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Editor/Preview.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Button} from '@neos-project/react-ui-components';\n\nexport default class Cropping extends Component {\n    static propTypes = {\n        close: PropTypes.func.isRequired,\n        confirm: PropTypes.func.isRequired,\n    };\n\n    render() {\n        const { close, confirm } = this.props;\n\n        return (\n            <div>\n                <div><strong>Cropping</strong></div>\n                <Button onClick={close} style=\"brand\">Close</Button>\n                <Button onClick={confirm} style=\"brand\">Confirm</Button>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Editor/Cropping.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { neos } from '@neos-project/neos-ui-decorators';\nimport { CROPPING, EMPTY, PREVIEW } from './StateMachine/states';\n\nimport machine from './StateMachine/machine';\nimport Automata from './Automata';\n\nimport Empty from './Editor/Empty';\nimport Preview from './Editor/Preview';\nimport Cropping from './Editor/Cropping';\n\n@neos(globalRegistry => ({\n    secondaryEditorsRegistry: globalRegistry.get('inspector').get('secondaryEditors')\n}))\nclass ImageEditor extends Automata {\n    static propTypes = {\n        // The propertyName this editor is used for, coming from the inspector\n        identifier: PropTypes.string,\n\n        value: PropTypes.oneOfType([\n            PropTypes.shape({\n                __identifier: PropTypes.string\n            }),\n            PropTypes.string\n        ]),\n        // \"hooks\" are the hooks specified by commit()\n        hooks: PropTypes.object,\n\n        commit: PropTypes.func.isRequired,\n        renderSecondaryInspector: PropTypes.func.isRequired,\n        secondaryEditorsRegistry: PropTypes.object.isRequired,\n\n        options: PropTypes.object,\n        highlight: PropTypes.bool,\n\n        // Public API:\n        // I18N key\n        fileChooserLabel: PropTypes.string,\n\n        allowedFileTypes: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.prepareMachine(machine, EMPTY, {\n            [EMPTY]: () => <Empty\n                chooseFromMedia={() => this.transition('chooseFromMedia')} chooseFromFile={() => this.transition('chooseFromFile')}\n            />,\n            [PREVIEW]: () => <Preview\n                clearSelection={() => this.transition('clearSelection')}\n                showCropping={() => this.transition('showCropping')}\n            />,\n            [CROPPING]: () => <Cropping\n                confirm={() => this.transition('confirmCropping')}\n                close={() => this.transition('closeCropping')}\n            />,\n        });\n    }\n}\n\nexport default ImageEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ImageEditor.js","import React, { Component } from 'react';\n\nclass Automata extends Component {\n    prepareMachine(machine, state, renderMap) {\n        this.machine = machine;\n\n        this.renderMap = renderMap;\n\n        this.state = {\n            current: state\n        };\n    }\n\n    transition(action) {\n        const currentState = this.state.current;\n        const transition = this.machine[currentState][action];\n\n        if (transition) {\n            const { name, ...state } = transition(currentState);\n            this.setState({\n                current: name,\n                ...state\n            });\n        }\n    }\n\n    render() {\n        const {current} = this.state;\n        return this.renderMap[current]();\n    }\n}\n\nexport default Automata;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Automata.js"],"sourceRoot":""}